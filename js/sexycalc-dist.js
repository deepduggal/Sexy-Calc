function getEquation(){return window.equation}function setEquation(t){window.equation=t,window.equationUI.value=t}function getSolution(){return window.solution}function setSolution(t){window.solution=t,window.solutionUI.value=t}function bttnHandler(t){if(isErrorOngoing)return"";if(isNum(t)){if(isOperator(previousVal)&&setSolution(""),"0"===t&&"/"===previousVal)return errorMsg("Cannot divide by zero"),"";setSolution(Number(getSolution()+t)),previousVal=t}else if(isOperator(t))if(isOperator(previousVal))errorMsg("Cannot do two operators in a row. "),setSolution(getSolution().toString().slice(0,-1));else{setEquation(0===numbers.length?getSolution()+t:getEquation()+getSolution()+t),splitEqn(getEquation());var e=solveEqn(numbers,operators);setSolution(e),previousVal=t}else if("."===t)setSolution(getSolution()+"."),previousVal=t;else if("clear"===t)setEquation(""),setSolution(""),previousVal=t;else if("percent"===t)setSolution(100*getSolution()),previousVal=t;else if("sqrt"===t)setSolution(Math.sqrt(getSolution())),previousVal=t;else if("squared"===t)setSolution(getSolution()*getSolution()),previousVal=t;else if("backspace"===t)""===getSolution()&&setEquation(getEquation().toString().slice(0,-1)),setSolution(getSolution().toString().slice(0,-1)),previousVal=t;else if("equals"===t){setSolution(""),setEquation(getEquation()+getSolution()),splitEqn(getEquation());var e=solveEqn(numbers,operators);setSolution(e),previousVal=t}}function solveEqn(t,e){var o;o=solveSimple(t[0],e[0],t[1]);for(var n=1,r=operators.length;r>n;n++)t[n+1]&&(o=solveSimple(o,e[n],t[n+1]));return o}function solveSimple(t,e,o){if(t=Number(t),o=Number(o),!o)return"";switch(e){case"*":return t*o;case"/":return t/o;case"+":return t+o;case"-":return t-o;default:return errorMsg("Unknown Operation"),"Unknown Operation"}}function splitEqn(t){if(numbers=[],operators=[],isOperator(t.charAt(0)))return errorMsg("Must start with an operator"),"started with operator";for(var e=0,o=0,n=t.length,r="";n>e;e++)if(r=t.charAt(e),isOperator(r)){if(isOperator(t.charAt(e-1)))return errorMsg("Can't do two operators in a row. "),"Can't do two operators in a row. ";operators.push(r),o++}else{if(!isNum(r))return console.log("Unknown Error. Please contact my creator: deep@deepduggal.me"),"";if("0"===r&&"/"===t.charAt(e-1))return errorMsg("Can't divide by zero. "),"Can't divide by zero. ";numbers[o]?numbers[o]+=r:numbers.push(r)}}function numOps(t){for(var e=0,o=0,n=t.length;n>o;o++)isOperator(t.charAt(o))&&e++;return e}function isNum(t){return!isNaN(parseFloat(t))&&isFinite(t)}function isOperator(t){return"*"===t||"/"===t||"+"===t||"-"===t}function errorMsg(t){isErrorOngoing=!0;var e=getEquation(),o=getSolution();setEquation(""),setSolution(""),setSolution(t),setTimeout(function(){setEquation(e),setSolution(o),isErrorOngoing=!1},3e3)}var logo=document.getElementsByClassName("logo")[0],calc=document.getElementsByClassName("calculator")[0],equationUI=document.getElementsByClassName("equation")[0],solutionUI=document.getElementsByClassName("solution")[0],equation="",solution="",numbers=[],operators=[],previousVal="",isErrorOngoing=!1;document.body.onkeydown=function(t){t.stopPropagation();var e={"/":"/","*":"*","-":"-","+":"+","=":"=",".":".",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",Backspace:"backspace",Enter:"equals",Clear:"equals"," ":"equals",Spacebar:"equals"};t.key&&e.hasOwnProperty(t.key)&&(t.preventDefault(),bttnHandler(e[t.key]))},document.body.onclick=function(t){t.stopPropagation();var e=t.target.getAttribute("name"),o={zero:"0",one:"1",two:"2",three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",decimalPoint:".",divide:"/",multiply:"*",subtract:"-",add:"+",equals:"equals",clear:"clear",percent:"percent",squareRoot:"sqrt",squared:"squared",backspace:"backspace"};o.hasOwnProperty(e)&&(t.preventDefault(),bttnHandler(o[e]))},!function(t,e){"function"==typeof define&&define.amd?define([],e()):"object"==typeof module&&module.exports?module.exports=e():t.zenscroll=e()}(this,function(){"use strict";var t=function(t){return"getComputedStyle"in window&&"smooth"===window.getComputedStyle(t)["scroll-behavior"]};if("undefined"==typeof window||!("document"in window))return{};var e=function(e,o,n){o=o||999,n||0===n||(n=9);var r,i=function(t){r=t},s=document.documentElement,u=function(){return e?e.scrollTop:window.scrollY||s.scrollTop},a=function(){return e?Math.min(e.offsetHeight,window.innerHeight):window.innerHeight||s.clientHeight},l=function(t){return e?t.offsetTop:t.getBoundingClientRect().top+u()-s.offsetTop},c=function(){clearTimeout(r),i(0)},f=function(n,r,l){if(c(),t(e?e:document.body))(e||window).scrollTo(0,n),l&&l();else{var f=u(),p=Math.max(n,0)-f;r=r||Math.min(Math.abs(p),o);var d=(new Date).getTime();!function g(){i(setTimeout(function(){var t=Math.min(((new Date).getTime()-d)/r,1),o=Math.max(Math.floor(f+p*(.5>t?2*t*t:t*(4-2*t)-1)),0);e?e.scrollTop=o:window.scrollTo(0,o),1>t&&a()+o<(e||s).scrollHeight?g():(setTimeout(c,99),l&&l())},9))}()}},p=function(t,e,o){var r=l(t)-n;return f(r,e,o),r},d=function(t,e,o){var r=t.getBoundingClientRect().height,i=l(t),s=i+r,c=a(),d=u(),g=d+c;d>i-n||r+n>c?p(t,e,o):s+n>g?f(s-c+n,e,o):o&&o()},g=function(t,e,o,n){f(Math.max(l(t)-a()/2+(o||t.getBoundingClientRect().height/2),0),e,n)},m=function(t,e){t&&(o=t),(0===e||e)&&(n=e)};return{setup:m,to:p,toY:f,intoView:d,center:g,stop:c,moving:function(){return!!r},getY:u}},o=e();if("addEventListener"in window&&!t(document.body)&&!window.noZensmooth){"scrollRestoration"in history&&(history.scrollRestoration="manual",window.addEventListener("popstate",function(t){t.state&&t.state.scrollY&&o.toY(t.state.scrollY)},!1));var n=function(t,e){try{history.replaceState({scrollY:o.getY()},""),history.pushState({scrollY:e},"",t)}catch(t){}};window.addEventListener("click",function(t){for(var e=t.target;e&&"A"!==e.tagName;)e=e.parentNode;if(!(!e||1!==t.which||t.shiftKey||t.metaKey||t.ctrlKey||t.altKey)){var r=e.getAttribute("href")||"";if(0===r.indexOf("#"))if("#"===r)t.preventDefault(),o.toY(0),n(window.location.href.split("#")[0],0);else{var i=e.hash.substring(1),s=document.getElementById(i);s&&(t.preventDefault(),n("#"+i,o.to(s)))}}},!1)}return{createScroller:e,setup:o.setup,to:o.to,toY:o.toY,intoView:o.intoView,center:o.center,stop:o.stop,moving:o.moving}}),window.onload=function(){setTimeout(function(){zenscroll.center(calc,250)},1500)},logo.onclick=function(){zenscroll.center(calc,250)};
